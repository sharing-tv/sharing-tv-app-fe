
<div class="live-preview"
  (mouseenter)="showControls()"
  (mouseleave)="hideControls()"
  (click)="toggleControls()">

  <!-- VIDEO -->
  <video
    #player
    playsinline
    webkit-playsinline
    autoplay
    muted
    disablePictureInPicture
    controlsList="nodownload noremoteplayback noplaybackrate"
    class="video-player">
  </video>

  <!-- BOTTOM RIGHT FIXED FULLSCREEN BUTTON -->
  <button 
      class="fullscreen-btn"
      [class.visible]="controlsVisible"
      (click)="toggleFullScreen($event)">
      {{ isFullscreen ? 'â‡²' : 'â›¶' }}
  </button>

  <!-- MAIN CONTROL PANEL -->
  <div class="control-panel" [class.visible]="controlsVisible">

      <!-- TIMER -->
      <div class="ctrl-timer">
        {{ currentClock }}
      </div>

      <!-- QUALITY -->
      <select class="quality-sel" #quality (change)="setQuality(quality.value)">
        <option value="auto">Auto</option>
        <option value="0">1080p</option>
        <option value="1">720p</option>
        <option value="2">480p</option>
        <option value="3">360p</option>
      </select>

      <!-- MUTE -->
      <button class="ctrl-btn" (click)="toggleMute()">
        {{ isMuted ? 'ðŸ”‡' : 'ðŸ”Š' }}
      </button>

  </div>

  <!-- FULLSCREEN TOP INFO BAR -->
  <div class="fs-bar" *ngIf="isFullscreen && controlsVisible">

    <div class="fs-info">
      <div class="fs-title">{{ nowPlaying?.title }}</div>

      <div class="fs-progress-container">
        <div class="fs-progress" [style.width.%]="progressPercent"></div>
      </div>
    </div>

  </div>

  <!-- LIVE BADGE -->
  <div class="overlay">
    <div class="live-badge">LIVE</div>
  </div>

</div>

